<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
  <meta charset="UTF-8">
  <title>main</title>
</head>
<body>
<div class="sidebar">
  Create A New Vote <br/>
  <div class="inputfields">
    <label class="label" for="nameinputfield">Name:</label>
    <input type="text" class = inputfield id="nameinputfield" [(ngModel)]="this.editor.vote.name" required placeholder="Enter here..."><br/>
    <label class="label" for="timeinputfield">Expiration:</label>
    <input  class="inputfield" type="datetime-local" id="timeinputfield" [(ngModel)]="this.editor.vote.lifetime" required><br/>
    <label class="label" for="questionlist">Questions:</label>
    <ul class="questionlist" id="questionlist">
      <li *ngFor="let question of editor.vote.questions">
        <div class="questiontitle" (click)="this.next = false; this.showQuestion(question)">
          {{question.title}}
          <img src="../../../assets/deleteButton.png" width="20px" (click)="this.deleteQuestion(question)">
        </div>
      </li>
    </ul>
</div>
<div *ngIf="!this.next" class="questionwindow">
  <ul class="questioneditor">
    <li *ngFor="let question of editor.vote.questions">
      <question *ngIf="question.visible" [question]="question"></question>
    </li>
  </ul>
  <form>
  <label class="label" for="text">Add a description:</label>
  <br>
  <textarea id="text" name="text" class="textarea" [(ngModel)]="this.tempDescr" (blur)="this.setDescription()" placeholder="Enter a description..."></textarea>
  </form>
  </div>
</div>
<div *ngIf="this.next" class="questionwindow">
  <ul class="emaillist">
    <li *ngFor="let email of this.editor.vote.emails" class="emailstyle">
      {{email}}
      <img src="../../../assets/deleteButton.png" width="20px" (click)="this.deleteEmail(email)">
    </li>
    <label class="label" for="emailInput">Enter an Email:</label>
    <input type="email" class="inputfield" id="emailInput" [(ngModel)]="this.tempEmail" placeholder="Enter here...">
  </ul>
</div>
<div *ngIf="!this.next" class="nextButton">
  <input type="image" src="../../../assets/next_btn.png" width="125%" height="125%" (click)="this.next = true">
</div>

<div *ngIf="this.next" class="nextButton">
  <input type="image" src="../../../assets/submit_btn.png" width="125%" height="125%" (click)="printEncrypted()">
</div>


<div *ngIf="!this.next" class="newQuestionButton">
  <input type="image" src="../../assets/addQuestion_btn.png" width="125%" height="125%" (click)="addEmptyQuestion()"/>
</div>

<div *ngIf="this.next" class="newQuestionButton">
  <input type="image" src="../../assets/addVoter_btn.png" width="125%" height="125%" (click)="addEmail()"/>
</div>

<div *ngIf="this.next" class="backButton">
  <input type="image" src="../../assets/back_btn.png" width="125%" height="125%" (click)="this.next = false"/>
</div>

<div class="returnToMainButton">
  <img src="../../../assets/returnToMain_btn.png" width="125%" height="125%" routerLink="/main" (click)="this.deleteEverything()"/>
</div>
</body>
</html>

