<div *ngIf="!this.submited">
<div id="head">
  <h1>{{this.vote.name}}</h1>
</div>

<div id="body">

  <form [formGroup]="surveyForm" >
    <ul>
      <li *ngFor="let question of this.vote.questions">
        <surveyQuestion
          [question]="question"
          [parentForm]="surveyForm"
        ></surveyQuestion>
      </li>
    </ul>
  </form>
</div>

  <div id="submitButton">
    <button mat-flat-button color="primary" [disabled]="this.surveyForm.disable && this.surveyForm.invalid" (click)="openDialog()" >Submit</button>
  </div>


  <ng-template #callAPIDialog>
  <mat-dialog-content class="mat-typography">
    <h2>Submit survey?</h2>
  </mat-dialog-content>
  <mat-dialog-actions align="end">
    <button mat-button mat-dialog-close>Cancel</button>
    <button mat-button [mat-dialog-close]="true" cdkFocusInitial (click)="submitSurvey()">Submit</button>
  </mat-dialog-actions>
</ng-template>


<button mat-flat-button color="primary" (click)="debug()">Debug</button>

</div>

<div id="afterSubmit" *ngIf="this.submited">
  <h1>Survey submitted</h1>
</div>
