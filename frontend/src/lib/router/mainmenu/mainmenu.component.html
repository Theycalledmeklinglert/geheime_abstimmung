<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>main</title>
</head>
<body>
<div class="taskbar">

  <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
    <mat-icon>more_vert</mat-icon>
    Menu
  </button>
  <mat-menu #menu="matMenu">

    <div class="test" *ngIf="isSysAdmin" >
    <button mat-menu-item (click)="showAddAdmin()" >
      <mat-icon>perm_identity</mat-icon>
      <span>Add Surveyleader</span>
    </button>

    <button mat-menu-item (click)="showDeleteAdmin()">
      <mat-icon>delete_forever</mat-icon>
      <span>Delete Surveyleader</span>
    </button>
    </div>

    <button mat-menu-item (click)="showChangePassword()">
      <mat-icon>https</mat-icon>
      <span>Change Password</span>
    </button>

    <button mat-menu-item (click)="showChangeUsername()">
      <mat-icon>face</mat-icon>
      <span>Change Username</span>
    </button>

    <button mat-menu-item (click)="logout()">
      <mat-icon>exit_to_app</mat-icon>
      <span>Logout</span>
    </button>

  </mat-menu>
</div>





<div class="listwindow">
  <div class="background" >
    <div class="headline">
        Your Polls
      </div>

    <voteContainer></voteContainer>
  </div>

</div>


<div class="adminGenerator" *ngIf="addAdmin">
  <div class="headline">Add Surveyleader</div>

  <div class="txt_field">
    <input type="text" required
           [value]="this.newadminadress"
           (change)="setUseradressofnewAdmin($event)"
    >
    <span></span>
    <label>Email</label>
  </div>

  <div class="txt_field">
    <input type="text" required
           [value]="this.newadminpassword"
           (change)="setpasswordofnewAdmin($event)"
    >
    <span></span>
    <label>Password</label>
  </div>

  <div class="txt_field">
    <input type="text" required
           [value]="this.newadminusername"
           (change)="setUsernameofnewAdmin($event)"
    >
    <span></span>

    <label>Username</label>

  </div>

    <mat-checkbox (change)="setadmin()">
      <div class="isadmin_txt">isAdmin?</div>
    </mat-checkbox>



  <div class="add" (click)="sendAddAdminrequest()">
    <button mat-flat-button color="primary" (click)="sendAddAdminrequest()"> Add </button>
  </div>
  <div class="cancel">
    <button mat-flat-button color="primary" (click)="hideAddAdmin()">Cancel </button>
  </div>
</div>




<div class="deleteAdmin" *ngIf="deleteAdmin">
  <div class="headline">Delete Surveyleader</div>

  <div class="txt_field">
    <input type="text" required
           [value]="this.deleteadminadress"
           (change)="setUsernameoftoDeleteAdmin($event)"
    >
    <span></span>
    <label>Username</label>
  </div>

  <div class="delete" >
    <button mat-flat-button color="primary" (click)="DeleteAdmin()">Delete </button>
  </div>
  <div class="cancel">
    <button mat-flat-button color="primary" (click)="hideDeleteAdmin()">Cancel </button>
  </div>
</div>

<div class="sureDelete" *ngIf="sureDeleteAdmin">

  <h1 mat-dialog-title>Info</h1>
  <div mat-dialog-content>Are you sure you want to delete admin?</div>
  <div class="delete_btn"mat-dialog-actions>
    <button mat-flat-button color="primary" (click)="sendDeleteAdminrequest()">Delete </button>
  </div>
  <div  class="cancel_btn" mat-dialog-actions>
    <button mat-flat-button color="primary" (click)="hidesureDeleteAdmin()">Cancel </button>
  </div>

</div>








<div class="changePassword" *ngIf="changePassword">
  <div class="headline">Change Password</div>

  <div class="txt_field">
    <input type="text" required
           [value]="this.changedPassword"
           (change)="setnewPassword($event)"
    >
    <span></span>
    <label>New Password</label>
  </div>

  <div class="change" >
    <button mat-flat-button color="primary" (click)="changemyPassword()">Change </button>
  </div>
  <div class="cancel" >
    <button mat-flat-button color="primary" (click)="hideChangePassword()">Cancel </button>
  </div>
</div>



<div class="sureChangePassword" *ngIf="sureChangePassword">
  <h1 mat-dialog-title>Info</h1>
  <div mat-dialog-content>Are you sure you want to change your Password?</div>
  <div class="change_btn"mat-dialog-actions>
    <button mat-flat-button color="primary" (click)="sendChangePasswordrequest()">Change </button>
  </div>
  <div  class="cancel_btn" mat-dialog-actions>
    <button mat-flat-button color="primary" (click)="hidesureChangePassword()">Cancel </button>
  </div>
</div>







<div class="changeUsername" *ngIf="changeUsername">
  <div class="headline">Change Username</div>

  <div class="txt_field">
    <input type="text" required
           [value]="this.changedUsername"
           (change)="setnewUsername($event)"
    >
    <span></span>
    <label>New Username</label>
  </div>

  <div class="change" >
    <button mat-flat-button color="primary" (click)="changemyUsername()">Change </button>
  </div>
  <div class="cancel" >
    <button mat-flat-button color="primary" (click)="hideChangeUsername()">Cancel </button>
  </div>
</div>



<div class="sureChangeUsername" *ngIf="sureChangeUsername">

  <h1 mat-dialog-title>Info</h1>
  <div mat-dialog-content>Are you sure you want to change your Username?</div>
  <div class="change_btn"mat-dialog-actions>
    <button mat-flat-button color="primary" (click)="sendChangeUsernamerequest()">Change </button>
  </div>
  <div  class="cancel_btn" mat-dialog-actions>
    <button mat-flat-button color="primary" (click)="hidesureChangeUsername()">Cancel </button>
  </div>

</div>



<mat-icon id="sucessicon" style="color:rgba(0,253,0,0.48)" *ngIf="sucesssend == true"> cloud_done</mat-icon>
<mat-icon id="failicon" style="color:rgba(255,0,0,0.49)" *ngIf="failsend">warning</mat-icon>







<div class="newVoteButton">
  <input type="image" src="../../assets/newVote_btn.png" width="125%" height="125%" routerLink="/editor"/>
</div>

</body>
</html>
